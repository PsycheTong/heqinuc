var __cmmap_no_trans,CMMap=CMMap||{};CMMap.Search={},CMMap.Search._serverUrl="http://localhost:8080/dev/poi.do",CMMap.Search.setServerUrl=function(a){this._serverUrl=a},CMMap.Search._rgx_word=/^[\s\w\u0100-\uFFFF]+$/,CMMap.Search.isSafeWord=function(a){return CMMap.Search._rgx_word.test(a)},CMMap.Search.transArray=function(a,b){var c,d;if(!a||!b)return null;for(c=[],d=0;d<a.length;++d)c.push(new b(a[d]));return c},CMMap.Search.jsonp_id=0,CMMap.Search.jsonp_args={},CMMap.Search.jsonp=function(params,fn){var idx,jpid,script;params&&(idx=this.jsonp_id?++this.jsonp_id:Math.floor(1e4*Math.random()+1),jpid="jp"+idx,this.jsonp_args[jpid]=fn,script=document.createElement("script"),script.id="cmmap_s_"+jpid,params.push("protocol:json"),params.push("callbackvalue:CMMap.Search.jsonp_f_"+jpid),script.src=this.buildUrl(params),eval("CMMap.Search.jsonp_f_"+jpid+'=function(data){ var fn = CMMap.Search.jsonp_args["'+jpid+'"]; if (fn) fn(data);  setTimeout("CMMap.Search.jsonp_clear(\''+jpid+"')\", 500); }"),document.body.appendChild(script))},CMMap.Search.jsonp_clear=function(a){if(a){var b=document.getElementById("cmmap_s_"+a);b&&b.parentNode.removeChild(b),delete("CMMap.Search.jsonp_f_"+a),delete CMMap.Search.jsonp_args[a]}},CMMap.Search.buildUrl=function(a){return this.req_xml1||(this.req_xml1='<?xml version="1.0" encoding="gbk"?>\n<ResourceReq>\n<Header>\n<Version>2.0.0</Version>\n<AppID>SJDHPOI</AppID>\n<SvcCode>300008</SvcCode>\n<UserID></UserID>\n<ScheduleType>1</ScheduleType>\n<CEID>cmccnavi20130506</CEID>\n<RecType>1</RecType>\n<ECCode></ECCode>\n<LoginName>SJDHPOI</LoginName>\n<Password>20121215WytR</Password>\n<ReqNo>72bf8cd83584ec4ae1d5477ef531cc6e</ReqNo>\n<RPID>cp_1</RPID>\n<ResourceID>021001</ResourceID>\n<TID>1234567890</TID>\n<ParamList></ParamList>\n<URLSuffix></URLSuffix>\n</Header>\n<Body><![CDATA[',this.req_xml2="\n]]></Body>\n</ResourceReq>"),this._serverUrl+"?p="+encodeURIComponent(this.req_xml1+a.join("\n")+this.req_xml2)},CMMap.Search.PoiByKeywords=function(a){a&&(this.setKeywords(a.keywords),this.setCity(a.city),this.setSortField(a.sortField),this.setSortType(a.sortType),this.setCustom(a.custom),this.setCustomAnd(a.customAnd),this.setPageSize(a.pageSize),this.setPageNo(a.pageNo))},CMMap.Search.PoiByKeywords.prototype.setKeywords=function(a){CMMap.Search.isSafeWord(a)&&(this.keywords=a)},CMMap.Search.PoiByKeywords.prototype.setCity=function(a){CMMap.Search.isSafeWord(a)&&(this.city=a)},CMMap.Search.PoiByKeywords.prototype.setSortField=function(a){CMMap.Search.isSafeWord(a)&&(this.sortField=a)},CMMap.Search.PoiByKeywords.prototype.setSortType=function(a){CMMap.Search.isSafeWord(a)&&(this.sortType=a)},CMMap.Search.PoiByKeywords.prototype.setCustom=function(a){CMMap.Search.isSafeWord(a)&&(this.custom=a)},CMMap.Search.PoiByKeywords.prototype.setCustomAnd=function(a){CMMap.Search.isSafeWord(a)&&(this.customAnd=a)},CMMap.Search.PoiByKeywords.prototype.setPageSize=function(a){CMMap.Search.isSafeWord(a)&&(this.pageSize=a)},CMMap.Search.PoiByKeywords.prototype.setPageNo=function(a){CMMap.Search.isSafeWord(a)&&(this.pageNo=a)},CMMap.Search.PoiByKeywords.prototype.search=function(a){if(null==a||!this.city)return!1;var b=[];b.push("data_type:POI"),b.push("query_type:TQUERY"),b.push("keywords:"+(this.keywords||"")),this.city&&b.push("city:"+this.city),this.sortField&&b.push("sort_fields:"+this.sortField),this.sortType&&b.push("sort_rule:"+this.sortType),this.custom&&b.push("custom:"+this.custom),this.customAnd&&b.push("custom_and:"+this.customAnd),this.pageSize&&b.push("page_num:"+this.pageSize),this.pageNo&&b.push("page:"+this.pageNo),CMMap.Search.jsonp(b,function(b){return b?(a("complete",new CMMap.Search.PoiResponse(b)),void 0):(a("error","Invalid data."),void 0)})},CMMap.Search.PoiBusStationByKeywords=function(a){a&&(this.setKeywords(a.keywords),this.setCity(a.city),this.setPoiLimit(a.poiLimit),this.setBusLimit(a.busLimit),this.setSortField(a.sortField),this.setSortType(a.sortType),this.setCustom(a.custom),this.setCustomAnd(a.customAnd),this.setPageSize(a.pageSize),this.setPageNo(a.pageNo))},CMMap.Search.PoiBusStationByKeywords.prototype.setKeywords=function(a){CMMap.Search.isSafeWord(a)&&(this.keywords=a)},CMMap.Search.PoiBusStationByKeywords.prototype.setCity=function(a){CMMap.Search.isSafeWord(a)&&(this.city=a)},CMMap.Search.PoiBusStationByKeywords.prototype.setPoiLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.poiLimit=a)},CMMap.Search.PoiBusStationByKeywords.prototype.setBusLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.busLimit=a)},CMMap.Search.PoiBusStationByKeywords.prototype.setSortField=function(a){CMMap.Search.isSafeWord(a)&&(this.sortField=a)},CMMap.Search.PoiBusStationByKeywords.prototype.setSortType=function(a){CMMap.Search.isSafeWord(a)&&(this.sortType=a)},CMMap.Search.PoiBusStationByKeywords.prototype.setCustom=function(a){CMMap.Search.isSafeWord(a)&&(this.custom=a)},CMMap.Search.PoiBusStationByKeywords.prototype.setCustomAnd=function(a){CMMap.Search.isSafeWord(a)&&(this.customAnd=a)},CMMap.Search.PoiBusStationByKeywords.prototype.setPageSize=function(a){CMMap.Search.isSafeWord(a)&&(this.pageSize=a)},CMMap.Search.PoiBusStationByKeywords.prototype.setPageNo=function(a){CMMap.Search.isSafeWord(a)&&(this.pageNo=a)},CMMap.Search.PoiBusStationByKeywords.prototype.search=function(a){var b,c;return null!=a&&this.city?(b=[],c=(this.poiLimit?"POI="+this.poiLimit:"POI")+"+"+(this.busLimit?"Bus="+this.busLimit:"Bus"),b.push("data_type:"+c),b.push("query_type:TQUERY"),b.push("keywords:"+(this.keywords||"")),this.city&&b.push("city:"+this.city),this.sortField&&b.push("sort_fields:"+this.sortField),this.sortType&&b.push("sort_rule:"+this.sortType),this.custom&&b.push("custom:"+this.custom),this.customAnd&&b.push("custom_and:"+this.customAnd),this.pageSize&&b.push("page_num:"+this.pageSize),this.pageNo&&b.push("page:"+this.pageNo),CMMap.Search.jsonp(b,function(b){return b?(a("complete",new CMMap.Search.PoiResponse(b)),void 0):(a("error","Invalid data."),void 0)}),void 0):!1},CMMap.Search.PoiBusStationLineByKeywords=function(a){a&&(this.setKeywords(a.keywords),this.setCity(a.city),this.setPoiLimit(a.poiLimit),this.setBusLimit(a.busLimit),this.setBusLineLimit(a.busLineLimit),this.setSortField(a.sortField),this.setSortType(a.sortType),this.setCustom(a.custom),this.setCustomAnd(a.customAnd),this.setPageSize(a.pageSize),this.setPageNo(a.pageNo))},CMMap.Search.PoiBusStationLineByKeywords.prototype.setKeywords=function(a){CMMap.Search.isSafeWord(a)&&(this.keywords=a)},CMMap.Search.PoiBusStationLineByKeywords.prototype.setCity=function(a){CMMap.Search.isSafeWord(a)&&(this.city=a)},CMMap.Search.PoiBusStationLineByKeywords.prototype.setPoiLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.poiLimit=a)},CMMap.Search.PoiBusStationLineByKeywords.prototype.setBusLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.busLimit=a)},CMMap.Search.PoiBusStationLineByKeywords.prototype.setBusLineLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.busLineLimit=a)},CMMap.Search.PoiBusStationLineByKeywords.prototype.setSortField=function(a){CMMap.Search.isSafeWord(a)&&(this.sortField=a)},CMMap.Search.PoiBusStationLineByKeywords.prototype.setSortType=function(a){CMMap.Search.isSafeWord(a)&&(this.sortType=a)},CMMap.Search.PoiBusStationLineByKeywords.prototype.setCustom=function(a){CMMap.Search.isSafeWord(a)&&(this.custom=a)},CMMap.Search.PoiBusStationLineByKeywords.prototype.setCustomAnd=function(a){CMMap.Search.isSafeWord(a)&&(this.customAnd=a)},CMMap.Search.PoiBusStationLineByKeywords.prototype.setPageSize=function(a){CMMap.Search.isSafeWord(a)&&(this.pageSize=a)},CMMap.Search.PoiBusStationLineByKeywords.prototype.setPageNo=function(a){CMMap.Search.isSafeWord(a)&&(this.pageNo=a)},CMMap.Search.PoiBusStationLineByKeywords.prototype.search=function(a){var b,c;return null!=a&&this.city?(b=[],c=(this.poiLimit?"POI="+this.poiLimit:"POI")+"+"+(this.busLimit?"Bus="+this.busLimit:"Bus")+(this.busLineLimit?"Busline="+this.busLineLimit:"Busline"),b.push("data_type:"+c),b.push("query_type:TQUERY"),b.push("keywords:"+(this.keywords||"")),this.city&&b.push("city:"+this.city),this.sortField&&b.push("sort_fields:"+this.sortField),this.sortType&&b.push("sort_rule:"+this.sortType),this.custom&&b.push("custom:"+this.custom),this.customAnd&&b.push("custom_and:"+this.customAnd),this.pageSize&&b.push("page_num:"+this.pageSize),this.pageNo&&b.push("page:"+this.pageNo),CMMap.Search.jsonp(b,function(b){return b?(a("complete",new CMMap.Search.PoiResponse(b)),void 0):(a("error","Invalid data."),void 0)}),void 0):!1},CMMap.Search.PoiNearby=function(a){a&&(this.setKeywords(a.keywords),this.setLocationX(a.locationX),this.setLocationY(a.locationY),this.setRadius(a.radius),this.setSortField(a.sortField),this.setSortType(a.sortType),this.setCustom(a.custom),this.setCustomAnd(a.customAnd),this.setPageSize(a.pageSize),this.setPageNo(a.pageNo))},CMMap.Search.PoiNearby.prototype.setKeywords=function(a){CMMap.Search.isSafeWord(a)&&(this.keywords=a)},CMMap.Search.PoiNearby.prototype.setLocationX=function(a){CMMap.Search.isSafeWord(a)&&(this.locationX=a)},CMMap.Search.PoiNearby.prototype.setLocationY=function(a){CMMap.Search.isSafeWord(a)&&(this.locationY=a)},CMMap.Search.PoiNearby.prototype.setRadius=function(a){CMMap.Search.isSafeWord(a)&&(this.radius=a)},CMMap.Search.PoiNearby.prototype.setSortField=function(a){CMMap.Search.isSafeWord(a)&&(this.sortField=a)},CMMap.Search.PoiNearby.prototype.setSortType=function(a){CMMap.Search.isSafeWord(a)&&(this.sortType=a)},CMMap.Search.PoiNearby.prototype.setCustom=function(a){CMMap.Search.isSafeWord(a)&&(this.custom=a)},CMMap.Search.PoiNearby.prototype.setCustomAnd=function(a){CMMap.Search.isSafeWord(a)&&(this.customAnd=a)},CMMap.Search.PoiNearby.prototype.setPageSize=function(a){CMMap.Search.isSafeWord(a)&&(this.pageSize=a)},CMMap.Search.PoiNearby.prototype.setPageNo=function(a){CMMap.Search.isSafeWord(a)&&(this.pageNo=a)},CMMap.Search.PoiNearby.prototype.search=function(a){if(null==a||!this.locationX||!this.locationY||!this.radius)return!1;var b=[];b.push("data_type:POI"),b.push("query_type:RQBXY"),b.push("keywords:"+(this.keywords||"")),b.push("x:"+this.locationX),b.push("y:"+this.locationY),b.push("range:"+this.radius),this.sortField&&b.push("sort_fields:"+this.sortField),this.sortType&&b.push("sort_rule:"+this.sortType),this.custom&&b.push("custom:"+this.custom),this.customAnd&&b.push("custom_and:"+this.customAnd),this.pageSize&&b.push("page_num:"+this.pageSize),this.pageNo&&b.push("page:"+this.pageNo),CMMap.Search.jsonp(b,function(b){return b?(a("complete",new CMMap.Search.PoiResponse(b)),void 0):(a("error","Invalid data."),void 0)})},CMMap.Search.PoiBusStationNearby=function(a){a&&(this.setKeywords(a.keywords),this.setLocationX(a.locationX),this.setLocationY(a.locationY),this.setRadius(a.radius),this.setPoiLimit(a.poiLimit),this.setBusLimit(a.busLimit),this.setSortField(a.sortField),this.setSortType(a.sortType),this.setCustom(a.custom),this.setCustomAnd(a.customAnd),this.setPageSize(a.pageSize),this.setPageNo(a.pageNo))},CMMap.Search.PoiBusStationNearby.prototype.setKeywords=function(a){CMMap.Search.isSafeWord(a)&&(this.keywords=a)},CMMap.Search.PoiBusStationNearby.prototype.setLocationX=function(a){CMMap.Search.isSafeWord(a)&&(this.locationX=a)},CMMap.Search.PoiBusStationNearby.prototype.setLocationY=function(a){CMMap.Search.isSafeWord(a)&&(this.locationY=a)},CMMap.Search.PoiBusStationNearby.prototype.setRadius=function(a){CMMap.Search.isSafeWord(a)&&(this.radius=a)},CMMap.Search.PoiBusStationNearby.prototype.setPoiLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.poiLimit=a)},CMMap.Search.PoiBusStationNearby.prototype.setBusLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.busLimit=a)},CMMap.Search.PoiBusStationNearby.prototype.setSortField=function(a){CMMap.Search.isSafeWord(a)&&(this.sortField=a)},CMMap.Search.PoiBusStationNearby.prototype.setSortType=function(a){CMMap.Search.isSafeWord(a)&&(this.sortType=a)},CMMap.Search.PoiBusStationNearby.prototype.setCustom=function(a){CMMap.Search.isSafeWord(a)&&(this.custom=a)},CMMap.Search.PoiBusStationNearby.prototype.setCustomAnd=function(a){CMMap.Search.isSafeWord(a)&&(this.customAnd=a)},CMMap.Search.PoiBusStationNearby.prototype.setPageSize=function(a){CMMap.Search.isSafeWord(a)&&(this.pageSize=a)},CMMap.Search.PoiBusStationNearby.prototype.setPageNo=function(a){CMMap.Search.isSafeWord(a)&&(this.pageNo=a)},CMMap.Search.PoiBusStationNearby.prototype.search=function(a){var b,c;return null!=a&&this.locationX&&this.locationY&&this.radius?(b=[],c=(this.poiLimit?"POI="+this.poiLimit:"POI")+"+"+(this.busLimit?"Bus="+this.busLimit:"Bus"),b.push("data_type:"+c),b.push("query_type:RQBXY"),b.push("keywords:"+(this.keywords||"")),b.push("x:"+this.locationX),b.push("y:"+this.locationY),b.push("range:"+this.radius),this.sortField&&b.push("sort_fields:"+this.sortField),this.sortType&&b.push("sort_rule:"+this.sortType),this.custom&&b.push("custom:"+this.custom),this.customAnd&&b.push("custom_and:"+this.customAnd),this.pageSize&&b.push("page_num:"+this.pageSize),this.pageNo&&b.push("page:"+this.pageNo),CMMap.Search.jsonp(b,function(b){return b?(a("complete",new CMMap.Search.PoiResponse(b)),void 0):(a("error","Invalid data."),void 0)}),void 0):!1},CMMap.Search.PoiBusStationLineNearby=function(a){a&&(this.setKeywords(a.keywords),this.setLocationX(a.locationX),this.setLocationY(a.locationY),this.setRadius(a.radius),this.setPoiLimit(a.poiLimit),this.setBusLimit(a.busLimit),this.setBusLineLimit(a.busLineLimit),this.setSortField(a.sortField),this.setSortType(a.sortType),this.setCustom(a.custom),this.setCustomAnd(a.customAnd),this.setPageSize(a.pageSize),this.setPageNo(a.pageNo))},CMMap.Search.PoiBusStationLineNearby.prototype.setKeywords=function(a){CMMap.Search.isSafeWord(a)&&(this.keywords=a)},CMMap.Search.PoiBusStationLineNearby.prototype.setLocationX=function(a){CMMap.Search.isSafeWord(a)&&(this.locationX=a)},CMMap.Search.PoiBusStationLineNearby.prototype.setLocationY=function(a){CMMap.Search.isSafeWord(a)&&(this.locationY=a)},CMMap.Search.PoiBusStationLineNearby.prototype.setRadius=function(a){CMMap.Search.isSafeWord(a)&&(this.radius=a)},CMMap.Search.PoiBusStationLineNearby.prototype.setPoiLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.poiLimit=a)},CMMap.Search.PoiBusStationLineNearby.prototype.setBusLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.busLimit=a)},CMMap.Search.PoiBusStationLineNearby.prototype.setBusLineLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.busLineLimit=a)},CMMap.Search.PoiBusStationLineNearby.prototype.setSortField=function(a){CMMap.Search.isSafeWord(a)&&(this.sortField=a)},CMMap.Search.PoiBusStationLineNearby.prototype.setSortType=function(a){CMMap.Search.isSafeWord(a)&&(this.sortType=a)},CMMap.Search.PoiBusStationLineNearby.prototype.setCustom=function(a){CMMap.Search.isSafeWord(a)&&(this.custom=a)},CMMap.Search.PoiBusStationLineNearby.prototype.setCustomAnd=function(a){CMMap.Search.isSafeWord(a)&&(this.customAnd=a)},CMMap.Search.PoiBusStationLineNearby.prototype.setPageSize=function(a){CMMap.Search.isSafeWord(a)&&(this.pageSize=a)},CMMap.Search.PoiBusStationLineNearby.prototype.setPageNo=function(a){CMMap.Search.isSafeWord(a)&&(this.pageNo=a)},CMMap.Search.PoiBusStationLineNearby.prototype.search=function(a){var b,c;return null!=a&&this.locationX&&this.locationY&&this.radius?(b=[],c=(this.poiLimit?"POI="+this.poiLimit:"POI")+"+"+(this.busLimit?"Bus="+this.busLimit:"Bus")+(this.busLineLimit?"Busline="+this.busLineLimit:"Busline"),b.push("data_type:"+c),b.push("query_type:RQBXY"),b.push("keywords:"+(this.keywords||"")),b.push("x:"+this.locationX),b.push("y:"+this.locationY),b.push("range:"+this.radius),this.sortField&&b.push("sort_fields:"+this.sortField),this.sortType&&b.push("sort_rule:"+this.sortType),this.custom&&b.push("custom:"+this.custom),this.customAnd&&b.push("custom_and:"+this.customAnd),this.pageSize&&b.push("page_num:"+this.pageSize),this.pageNo&&b.push("page:"+this.pageNo),CMMap.Search.jsonp(b,function(b){return b?(a("complete",new CMMap.Search.PoiResponse(b)),void 0):(a("error","Invalid data."),void 0)}),void 0):!1},CMMap.Search.PoiInBound=function(a){a&&(this.setKeywords(a.keywords),this.setLocationX(a.locationX),this.setLocationY(a.locationY),this.setSortField(a.sortField),this.setSortType(a.sortType),this.setCustom(a.custom),this.setCustomAnd(a.customAnd),this.setPageSize(a.pageSize),this.setPageNo(a.pageNo))},CMMap.Search.PoiInBound.prototype.setKeywords=function(a){CMMap.Search.isSafeWord(a)&&(this.keywords=a)},CMMap.Search.PoiInBound.prototype.setLocationX=function(a){CMMap.Search.isSafeWord(a)&&(this.locationX=a)},CMMap.Search.PoiInBound.prototype.setLocationY=function(a){CMMap.Search.isSafeWord(a)&&(this.locationY=a)},CMMap.Search.PoiInBound.prototype.setSortField=function(a){CMMap.Search.isSafeWord(a)&&(this.sortField=a)},CMMap.Search.PoiInBound.prototype.setSortType=function(a){CMMap.Search.isSafeWord(a)&&(this.sortType=a)},CMMap.Search.PoiInBound.prototype.setCustom=function(a){CMMap.Search.isSafeWord(a)&&(this.custom=a)},CMMap.Search.PoiInBound.prototype.setCustomAnd=function(a){CMMap.Search.isSafeWord(a)&&(this.customAnd=a)},CMMap.Search.PoiInBound.prototype.setPageSize=function(a){CMMap.Search.isSafeWord(a)&&(this.pageSize=a)},CMMap.Search.PoiInBound.prototype.setPageNo=function(a){CMMap.Search.isSafeWord(a)&&(this.pageNo=a)},CMMap.Search.PoiInBound.prototype.search=function(a){if(null==a||!this.locationX||!this.locationY)return!1;var b=[];b.push("data_type:POI"),b.push("query_type:TQUERY"),b.push("qii:true"),b.push("keywords:"+(this.keywords||"")),b.push("x:"+this.locationX),b.push("y:"+this.locationY),this.sortField&&b.push("sort_fields:"+this.sortField),this.sortType&&b.push("sort_rule:"+this.sortType),this.custom&&b.push("custom:"+this.custom),this.customAnd&&b.push("custom_and:"+this.customAnd),this.pageSize&&b.push("page_num:"+this.pageSize),this.pageNo&&b.push("page:"+this.pageNo),CMMap.Search.jsonp(b,function(b){return b?(a("complete",new CMMap.Search.PoiResponse(b)),void 0):(a("error","Invalid data."),void 0)})},CMMap.Search.PoiBusStationInBound=function(a){a&&(this.setKeywords(a.keywords),this.setLocationX(a.locationX),this.setLocationY(a.locationY),this.setPoiLimit(a.poiLimit),this.setBusLimit(a.busLimit),this.setSortField(a.sortField),this.setSortType(a.sortType),this.setCustom(a.custom),this.setCustomAnd(a.customAnd),this.setPageSize(a.pageSize),this.setPageNo(a.pageNo))},CMMap.Search.PoiBusStationInBound.prototype.setKeywords=function(a){CMMap.Search.isSafeWord(a)&&(this.keywords=a)},CMMap.Search.PoiBusStationInBound.prototype.setLocationX=function(a){CMMap.Search.isSafeWord(a)&&(this.locationX=a)},CMMap.Search.PoiBusStationInBound.prototype.setLocationY=function(a){CMMap.Search.isSafeWord(a)&&(this.locationY=a)},CMMap.Search.PoiBusStationInBound.prototype.setPoiLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.poiLimit=a)},CMMap.Search.PoiBusStationInBound.prototype.setBusLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.busLimit=a)},CMMap.Search.PoiBusStationInBound.prototype.setSortField=function(a){CMMap.Search.isSafeWord(a)&&(this.sortField=a)},CMMap.Search.PoiBusStationInBound.prototype.setSortType=function(a){CMMap.Search.isSafeWord(a)&&(this.sortType=a)},CMMap.Search.PoiBusStationInBound.prototype.setCustom=function(a){CMMap.Search.isSafeWord(a)&&(this.custom=a)},CMMap.Search.PoiBusStationInBound.prototype.setCustomAnd=function(a){CMMap.Search.isSafeWord(a)&&(this.customAnd=a)},CMMap.Search.PoiBusStationInBound.prototype.setPageSize=function(a){CMMap.Search.isSafeWord(a)&&(this.pageSize=a)},CMMap.Search.PoiBusStationInBound.prototype.setPageNo=function(a){CMMap.Search.isSafeWord(a)&&(this.pageNo=a)},CMMap.Search.PoiBusStationInBound.prototype.search=function(a){var b,c;return null!=a&&this.locationX&&this.locationY?(b=[],c=(this.poiLimit?"POI="+this.poiLimit:"POI")+"+"+(this.busLimit?"Bus="+this.busLimit:"Bus"),b.push("data_type:"+c),b.push("query_type:TQUERY"),b.push("qii:true"),b.push("keywords:"+(this.keywords||"")),b.push("x:"+this.locationX),b.push("y:"+this.locationY),this.sortField&&b.push("sort_fields:"+this.sortField),this.sortType&&b.push("sort_rule:"+this.sortType),this.custom&&b.push("custom:"+this.custom),this.customAnd&&b.push("custom_and:"+this.customAnd),this.pageSize&&b.push("page_num:"+this.pageSize),this.pageNo&&b.push("page:"+this.pageNo),CMMap.Search.jsonp(b,function(b){return b?(a("complete",new CMMap.Search.PoiResponse(b)),void 0):(a("error","Invalid data."),void 0)}),void 0):!1},CMMap.Search.PoiBusStationLineInBound=function(a){a&&(this.setKeywords(a.keywords),this.setLocationX(a.locationX),this.setLocationY(a.locationY),this.setPoiLimit(a.poiLimit),this.setBusLimit(a.busLimit),this.setBusLineLimit(a.busLineLimit),this.setSortField(a.sortField),this.setSortType(a.sortType),this.setCustom(a.custom),this.setCustomAnd(a.customAnd),this.setPageSize(a.pageSize),this.setPageNo(a.pageNo))},CMMap.Search.PoiBusStationLineInBound.prototype.setKeywords=function(a){CMMap.Search.isSafeWord(a)&&(this.keywords=a)},CMMap.Search.PoiBusStationLineInBound.prototype.setLocationX=function(a){CMMap.Search.isSafeWord(a)&&(this.locationX=a)},CMMap.Search.PoiBusStationLineInBound.prototype.setLocationY=function(a){CMMap.Search.isSafeWord(a)&&(this.locationY=a)},CMMap.Search.PoiBusStationLineInBound.prototype.setPoiLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.poiLimit=a)},CMMap.Search.PoiBusStationLineInBound.prototype.setBusLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.busLimit=a)},CMMap.Search.PoiBusStationLineInBound.prototype.setBusLineLimit=function(a){CMMap.Search.isSafeWord(a)&&(this.busLineLimit=a)},CMMap.Search.PoiBusStationLineInBound.prototype.setSortField=function(a){CMMap.Search.isSafeWord(a)&&(this.sortField=a)},CMMap.Search.PoiBusStationLineInBound.prototype.setSortType=function(a){CMMap.Search.isSafeWord(a)&&(this.sortType=a)},CMMap.Search.PoiBusStationLineInBound.prototype.setCustom=function(a){CMMap.Search.isSafeWord(a)&&(this.custom=a)},CMMap.Search.PoiBusStationLineInBound.prototype.setCustomAnd=function(a){CMMap.Search.isSafeWord(a)&&(this.customAnd=a)},CMMap.Search.PoiBusStationLineInBound.prototype.setPageSize=function(a){CMMap.Search.isSafeWord(a)&&(this.pageSize=a)},CMMap.Search.PoiBusStationLineInBound.prototype.setPageNo=function(a){CMMap.Search.isSafeWord(a)&&(this.pageNo=a)},CMMap.Search.PoiBusStationLineInBound.prototype.search=function(a){var b,c;return null!=a&&this.locationX&&this.locationY?(b=[],c=(this.poiLimit?"POI="+this.poiLimit:"POI")+"+"+(this.busLimit?"Bus="+this.busLimit:"Bus")+(this.busLineLimit?"Busline="+this.busLineLimit:"Busline"),b.push("data_type:"+c),b.push("query_type:TQUERY"),b.push("qii:true"),b.push("keywords:"+(this.keywords||"")),b.push("x:"+this.locationX),b.push("y:"+this.locationY),this.sortField&&b.push("sort_fields:"+this.sortField),this.sortType&&b.push("sort_rule:"+this.sortType),this.custom&&b.push("custom:"+this.custom),this.customAnd&&b.push("custom_and:"+this.customAnd),this.pageSize&&b.push("page_num:"+this.pageSize),this.pageNo&&b.push("page:"+this.pageNo),CMMap.Search.jsonp(b,function(b){return b?(a("complete",new CMMap.Search.PoiResponse(b)),void 0):(a("error","Invalid data."),void 0)}),void 0):!1},CMMap.Search.PoiById=function(a){a&&this.setPoiId(a.poiId)},CMMap.Search.PoiById.prototype.setPoiId=function(a){CMMap.Search.isSafeWord(a)&&(this.poiId=a)},CMMap.Search.PoiById.prototype.search=function(a){if(null==a||!this.poiId)return!1;var b=[];b.push("data_type:IDQ"),b.push("query_type:TQUERY"),b.push("keywords:"+this.poiId),CMMap.Search.jsonp(b,function(b){return b?(a("complete",new CMMap.Search.PoiResponse(b)),void 0):(a("error","Invalid data."),void 0)})},CMMap.Search.CarWashCouponByPoiId=function(a){a&&(this.setPoiId(a.poiId),this.setPageSize(a.pageSize),this.setPageNo(a.pageNo))},CMMap.Search.CarWashCouponByPoiId.prototype.setPoiId=function(a){CMMap.Search.isSafeWord(a)&&(this.poiId=a)},CMMap.Search.CarWashCouponByPoiId.prototype.setPageSize=function(a){CMMap.Search.isSafeWord(a)&&(this.pageSize=a)},CMMap.Search.CarWashCouponByPoiId.prototype.setPageNo=function(a){CMMap.Search.isSafeWord(a)&&(this.pageNo=a)},CMMap.Search.CarWashCouponByPoiId.prototype.search=function(a){if(null==a||!this.poiId)return!1;var b=[];b.push("data_type:INDOOR"),b.push("query_type:TQUERY"),b.push("keywords:"),b.push("custom:POIID:"+this.poiId),this.pageSize&&b.push("page_num:"+this.pageSize),this.pageNo&&b.push("page:"+this.pageNo),CMMap.Search.jsonp(b,function(b){return b?(a("complete",new CMMap.Search.PoiResponse(b)),void 0):(a("error","Invalid data."),void 0)})},CMMap.Search.ScenicTicketByPoiId=function(a){a&&(this.setPoiId(a.poiId),this.setPageSize(a.pageSize),this.setPageNo(a.pageNo))},CMMap.Search.ScenicTicketByPoiId.prototype.setPoiId=function(a){CMMap.Search.isSafeWord(a)&&(this.poiId=a)},CMMap.Search.ScenicTicketByPoiId.prototype.setPageSize=function(a){CMMap.Search.isSafeWord(a)&&(this.pageSize=a)},CMMap.Search.ScenicTicketByPoiId.prototype.setPageNo=function(a){CMMap.Search.isSafeWord(a)&&(this.pageNo=a)},CMMap.Search.ScenicTicketByPoiId.prototype.search=function(a){if(null==a||!this.poiId)return!1;var b=[];b.push("data_type:commodity_jdmp"),b.push("query_type:TQUERY"),b.push("keywords:"),b.push("custom:POIID:"+this.poiId),this.pageSize&&b.push("page_num:"+this.pageSize),this.pageNo&&b.push("page:"+this.pageNo),CMMap.Search.jsonp(b,function(b){return b?(a("complete",new CMMap.Search.PoiResponse(b)),void 0):(a("error","Invalid data."),void 0)})},CMMap.Search.PoiResponse=function(a){if(__cmmap_no_trans)return this.__orig_data=a,void 0;for(var b in a)switch(b){case"poi":this.pois=CMMap.Search.transArray(a[b],CMMap.Search.Poi);break;case"bus":this.busStations=CMMap.Search.transArray(a[b],CMMap.Search.BusStation);break;case"busLines":this.busLines=CMMap.Search.transArray(a[b],CMMap.Search.BusLine);break;case"citySuggestions":this.citySuggestions=CMMap.Search.transArray(a[b],CMMap.Search.CitySuggestion);break;case"errorRecoveries":this.errorRecoveries=CMMap.Search.transArray(a[b],CMMap.Search.ErrorRecovery);break;case"carWashCoupons":this.carWashCoupons=CMMap.Search.transArray(a[b],CMMap.Search.CarWashCoupon);break;case"scenicTickets":this.scenicTickets=CMMap.Search.transArray(a[b],CMMap.Search.ScenicTicket);break;default:this[b]=a[b]}},CMMap.Search.Poi=function(a){if(a)for(var b in a)this[b]=a[b]},CMMap.Search.BusStation=function(a){if(a)for(var b in a)this[b]=a[b]},CMMap.Search.BusLine=function(a){if(a)for(var b in a)this[b]=a[b]},CMMap.Search.CitySuggestion=function(a){if(a)for(var b in a)this[b]=a[b]},CMMap.Search.ErrorRecovery=function(a){if(a)for(var b in a)this[b]=a[b]},CMMap.Search.CarWashCoupon=function(a){if(a)for(var b in a)this[b]=a[b]},CMMap.Search.ScenicTicket=function(a){if(a)for(var b in a)this[b]=a[b]};